{{> layout/header}}

<!--12번 개인마이페이지 화면-->
<div class="d-flex mb-3">

	<div class="col-2"></div>

	<div class="class col-8 h-auto d-flex border border-info">
		<div class="bg-info col-2">
			<div class="m-2"></div>
			<a href="updateForm" class="w-100 btn btn-info">마이 페이지</a>
			<div class="m-2"></div>
			<a href="resumeForm" class="w-100 btn btn-info">이력서 등록</a>
			<div class="m-2"></div>
			<a href="resumeManage" class="w-100 btn btn-info">이력서 관리</a>
			<div class="m-2"></div>
			<a href="applyList" class="w-100 btn btn-info">지원내역</a>
			<div class="m-2"></div>
			<a href="bookmarkForm" class="w-100 btn btn-info">북마크</a>
			<div class="m-2"></div>
			<a href="recommendForm" class="w-100 btn btn-info">기업추천</a>
			<div class="m-2"></div>
		</div>


		<div class="col-9 ms-3">
			<h1 class="text-center mt-2">마이페이지</h1>

			<div class="d-flex">
				<div class="m-2 col-4 d-flex flex-column align-items-center">
					<img id="preview" src="../../../../../images/{{user.photo}}" class="circle_avatar"
						style="width:150px; height:150px;" />

				</div>

				<form action="/user/update" method="post" enctype="multipart/form-data">

					<div>
						<div class="input-group col-6 mb-3">
							<span class="input-group-text"><span class="ms-2 me-4">이름</span></span>
							<input type="text" class="form-control" value="{{user.username}}" name="username">
						</div>
						<div class=" input-group mb-3">
							<span class="input-group-text">전화번호</span>
							<input type="tel" class="form-control" value="{{user.tel}}" name="tel">
						</div>
						<div class="input-group mb-3">
							<span class="input-group-text"><span class="ms-2 me-4">주소</span></span>
							<input type="text" class="form-control" value="{{user.address}}" name="address">
						</div>
						<div class="input-group mb-3">
							<span class="input-group-text">생년월일</span>
							<input type="date" class="form-control" value="{{user.birth}}" name="birth">
						</div>
						<div class="input-group mb-3">
							<input type="file" class="form-control" placeholder="Enter pto" name="pto"
								onchange="changePic(event)">
						</div>
					</div>
					<div>
						<input id="button" class=" btn btn-primary m-2 mb-3 w-100" type="submit" value="수정">
					</div>
				</form>


			</div>



		</div>

	</div>

</div>
</div>



<script>
	function changePic(e1) {
		console.log(e1);
		let f = e1.srcElement.files[0];

		if (!f.type.match("image.*")) {
			alert("이미지를 등록해주세요.");
			return;
		}

		let reader = new FileReader(); //버퍼를 하나 만듦 ,메모리에 끌어 올릴려고!
		reader.onload = function (e2) { // 파일이 다 읽어지면 콜백됨
			let previewEl = document.querySelector("#preview");
			previewEl.setAttribute("src", e2.target.result);
		}
		reader.readAsDataURL(f); // 파일 읽기, 버퍼로 다 읽으면 onload() 발동 -> 파일 다 읽으면 콜백
	}
</script>
{{> layout/footer}}